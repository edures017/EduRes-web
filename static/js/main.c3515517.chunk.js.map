{"version":3,"sources":["config/firebase.js","components/login.js","config/secondary.js","components/newstd.js","components/search.js","components/notify.js","components/attendance.js","components/home.js","components/landing.js","App.js","serviceWorker.js","index.js"],"names":["fire","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Login","props","login","bind","handleInputChange","state","email","password","event","this","setState","target","name","value","e","preventDefault","auth","signInWithEmailAndPassword","class","onSubmit","type","onChange","Component","secondaryApp","NewStd","handleSubmit","createUserWithEmailAndPassword","then","result","uid","user","id","uploadData","signOut","window","location","reload","alert","catch","error","console","log","myref","database","ref","data","address","pno","division","set","handleChange","Search","emails","forEach","element","push","onSelectEmails","stds","options","getData","opts","_this","once","snapshot","Object","values","val","map","label","placeholder","isMulti","isSearchable","noOptionsMessage","Notify","handleEmails","emailsValue","getEmails","tokens","filter","token","child","title","body","fetch","method","headers","Authorization","JSON","stringify","notification","text","registration_ids","sendmsg","Attendance","Date","getDate","getMonth","getFullYear","d","moment","utcOffset","format","Home","logout","onClick","Landing","onAuthStateChanged","App","className","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"yTAaeA,EADFC,IAASC,cAVC,CACnBC,OAAQ,0CACRC,WAAY,+BACZC,YAAa,sCACbC,UAAW,eACXC,cAAe,2BACfC,kBAAmB,eACnBC,MAAO,8C,eCkCIC,G,wDAvCd,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IACDC,MAAQ,EAAKA,MAAMC,KAAX,gBACb,EAAKC,kBAAoB,EAAKA,kBAAkBD,KAAvB,gBACzB,EAAKE,MAAQ,CACZC,MAAO,GACPC,SAAU,IANO,E,8DAUDC,GACjBC,KAAKC,SAAL,eACEF,EAAMG,OAAOC,KAAOJ,EAAMG,OAAOE,U,4BAI9BC,GACLA,EAAEC,iBACFzB,EACE0B,OACAC,2BAA2BR,KAAKJ,MAAMC,MAAOG,KAAKJ,MAAME,Y,+BAI1D,OACC,0BAAMW,MAAM,QAAQC,SAAUV,KAAKP,OAClC,2CACA,2BAAOkB,KAAK,OAAOR,KAAK,QAAQS,SAAUZ,KAAKL,oBAC/C,2BACCgB,KAAK,WACLR,KAAK,WACLS,SAAUZ,KAAKL,oBAEhB,4BAAQgB,KAAK,UAAb,YARD,IAQyC,kC,GAlCxBE,cCQLC,EADIhC,IAASC,cATf,CACZC,OAAQ,0CACRC,WAAY,+BACZC,YAAa,sCACbC,UAAW,eACXC,cAAe,2BACfC,kBAAmB,eACnBC,MAAO,6CAE0C,aCuEnCyB,E,kDA7Ed,WAAYvB,GAAQ,IAAD,8BAClB,cAAMA,IAOPwB,aAAe,SAACjB,GACfA,EAAMO,iBACNQ,EACEP,OACAU,+BAA+B,EAAKrB,MAAMC,MAAO,EAAKD,MAAME,UAC5DoB,MAAK,SAACC,GAEN,IAAIC,EAAMD,EAAOE,KAAKD,IACtB,EAAKnB,SAAS,CAAEqB,GAAIF,IACpB,EAAKG,aAELT,EAAaP,OAAOiB,UACpBC,OAAOC,SAASC,SAChBC,MAAM,6BAENC,OAAM,SAAUC,GAChBC,QAAQC,IAAI,4BAA6BF,OAxBzB,EA4BnBP,WAAa,WACZ,IAAIU,EAAQpD,EAAKqD,WAAWC,IAAI,SAAW,EAAKvC,MAAM0B,IAClDc,EAAO,CACVd,GAAI,EAAK1B,MAAM0B,GACfnB,KAAM,EAAKP,MAAMO,KACjBkC,QAAS,EAAKzC,MAAMyC,QACpBxC,MAAO,EAAKD,MAAMC,MAClByC,IAAK,EAAK1C,MAAM0C,IAChBC,SAAU,EAAK3C,MAAM2C,UAEtBN,EAAMO,IAAIJ,IAtCQ,EAyCnBK,aAAe,SAAC1C,GACf,EAAKE,SAAL,eACEF,EAAMG,OAAOC,KAAOJ,EAAMG,OAAOE,SAzCnC,EAAKR,MAAQ,CAAE0B,GAAI,IACnB,EAAKmB,aAAe,EAAKA,aAAa/C,KAAlB,gBACpB,EAAKsB,aAAe,EAAKA,aAAatB,KAAlB,gBACpB,EAAK6B,WAAa,EAAKA,WAAW7B,KAAhB,gBALA,E,qDAgDlB,OACC,6BACC,0BAAMgB,SAAUV,KAAKgB,cACpB,iDACA,yCACA,2BAAOL,KAAK,OAAOR,KAAK,OAAOS,SAAUZ,KAAKyC,eAC9C,6BACA,4CACA,8BAAU9B,KAAK,OAAOR,KAAK,UAAUS,SAAUZ,KAAKyC,eACpD,6BACA,0CACA,2BAAO9B,KAAK,OAAOR,KAAK,QAAQS,SAAUZ,KAAKyC,eAC/C,6BACA,6CACA,2BAAO9B,KAAK,OAAOR,KAAK,WAAWS,SAAUZ,KAAKyC,eAClD,6BACA,iDACA,2BAAO9B,KAAK,OAAOR,KAAK,MAAMS,SAAUZ,KAAKyC,eAC7C,6BACA,6CACA,2BAAO9B,KAAK,OAAOR,KAAK,WAAWS,SAAUZ,KAAKyC,eAClD,6BACA,4BAAQ9B,KAAK,UAAb,gB,GAvEgBE,a,gBC2DN6B,E,kDAzDd,WAAYlD,GAAQ,IAAD,8BAClB,cAAMA,IA6BPiD,aAAe,SAAC1C,GAEf,IAAI4C,EAAS,GACb5C,EAAM6C,SAAQ,SAACC,GACdF,EAAOG,KAAKD,EAAQzC,UAGrB,EAAKZ,MAAMuD,eAAeJ,GAC1B,EAAK1C,SAAS,CAAE+C,KAAMjD,KApCtB,EAAKH,MAAQ,CACZoD,KAAM,GACNC,QAAS,IAEV,EAAKC,QAAU,EAAKA,QAAQxD,KAAb,gBACf,EAAK+C,aAAe,EAAKA,aAAa/C,KAAlB,gBAPF,E,sDAWlB,IAAIyD,EAAO,GAELhB,EAAMtD,EAAKqD,WAAWC,IAAI,SAC5BiB,EAAQpD,KACZmC,EAAIkB,KAAK,SAASnC,MAAK,SAACoC,GACjBC,OAAOC,OAAOF,EAASG,OACzBC,KAAI,SAACb,GACRM,EAAKL,KAAK,CAAE1C,MAAOyC,EAAQhD,MAAO8D,MAAOd,EAAQ1C,UAElDiD,EAAMnD,SAAS,CACdgD,QAASE,S,0CAMXnD,KAAKkD,Y,+BAeL,OACC,6BACC,kBAAC,IAAD,CACCD,QAASjD,KAAKJ,MAAMqD,QACpBW,YAAY,iCACZC,SAAO,EACPC,cAAY,EACZC,iBAAkB,iBAAM,oBACxBnD,SAAUZ,KAAKyC,oB,GAnDC5B,aC8FNmD,E,kDA7Fd,WAAYxE,GAAQ,IAAD,8BAClB,cAAMA,IAUPyE,aAAe,SAACC,GACf,EAAKjE,SAAS,CACb0C,OAAQuB,KAbS,EAsBnBC,UAAY,WAGX,IAAIxB,EAAS,EAAK/C,MAAM+C,OACxBZ,QAAQC,IAAIW,GACZ,IAAIyB,EAAS,GACTjC,EAAMtD,EAAKqD,WAAWC,IAAI,SAC9BA,EAAIkB,KAAK,SAASnC,MAAK,SAACoC,GACvBX,EAAOC,SAAQ,SAACC,GACf,IAAIhD,EAAQ0D,OAAOC,OAAOF,EAASG,OAAOY,QACzC,SAAChD,GAAD,OAAUA,EAAKxB,OAASgD,KAEzB,GAAgB,MAAZhD,EAAM,GAAY,CACrBuE,EAAOtB,KAAKjD,EAAM,GAAGyE,OACrB,IAAIlD,EAAMvB,EAAM,GAAGyB,GACnBa,EAAIoC,MAAMnD,GAAKmD,MAAM,UAAUzB,KAAK,CACnC0B,MAAO,EAAK5E,MAAM4E,MAClBC,KAAM,EAAK7E,MAAM6E,WASpBC,MAAM,sCAAuC,CAC5CC,OAAQ,OACRC,QAAS,CACR,eAAgB,mBAChBC,cACC,gKAEFJ,KAAMK,KAAKC,UAAU,CACpBC,aAAc,CACbP,KAAM,EAAK7E,MAAM6E,KACjBD,MAAO,EAAK5E,MAAM4E,OAEnBpC,KAAM,CAAE6C,KAAM,aACdC,iBAAkBd,MAEjBlD,KAAKU,MAAM,0BA/DG,EAmEnBuD,QAAU,SAACpF,GACVA,EAAMO,iBACN,EAAK6D,aAnEL,EAAKvE,MAAQ,CACZ+C,OAAQ,IAET,EAAKwC,QAAU,EAAKA,QAAQzF,KAAb,gBACf,EAAKC,kBAAoB,EAAKA,kBAAkBD,KAAvB,gBACzB,EAAKyE,UAAY,EAAKA,UAAUzE,KAAf,gBACjB,EAAKuE,aAAe,EAAKA,aAAavE,KAAlB,gBARF,E,8DAiBDK,GACjBC,KAAKC,SAAL,eACEF,EAAMG,OAAOC,KAAOJ,EAAMG,OAAOE,U,+BAsDnC,OACC,6BACC,kDACA,0BAAMM,SAAUV,KAAKmF,SACpB,8DACA,2BAAOxE,KAAK,OAAOR,KAAK,QAAQS,SAAUZ,KAAKL,oBAC/C,6BACA,6DACA,8BAAUQ,KAAK,OAAOS,SAAUZ,KAAKL,oBACrC,6BAGA,kBAAC,EAAD,CAAQoD,eAAgB/C,KAAKiE,eAC7B,4BAAQtD,KAAK,UAAb,c,GAvFgBE,a,iBCwDNuE,E,kDAvDd,WAAY5F,GAAQ,IAAD,8BAClB,cAAMA,IAOPyE,aAAe,SAACC,GACf,EAAKjE,SAAS,CACb0C,OAAQuB,KART,EAAKtE,MAAQ,CAAE+C,OAAQ,IACvB,EAAKhD,kBAAoB,EAAKA,kBAAkBD,KAAvB,gBACzB,EAAKsB,aAAe,EAAKA,aAAatB,KAAlB,gBACpB,EAAKuE,aAAe,EAAKA,aAAavE,KAAlB,gBALF,E,8DAcDK,GACjBC,KAAKC,SAAL,eACEF,EAAMG,OAAOC,KAAOJ,EAAMG,OAAOE,U,mCAIvBL,GACZA,EAAMO,iBAEN,IAAIqC,EAAS3C,KAAKJ,MAAM+C,OACpBR,EAAMtD,EAAKqD,WAAWC,IAAI,SAC9BA,EAAIkB,KAAK,SAASnC,MAAK,SAACoC,GACvBX,EAAOC,SAAQ,SAACC,GACf,IAAIhD,EAAQ0D,OAAOC,OAAOF,EAASG,OAAOY,QACzC,SAAChD,GAAD,OAAUA,EAAKxB,OAASgD,KAEzBd,QAAQC,IAAInC,EAAM,GAAGyB,KACV,IAAI+D,MAAOC,WACV,IAAID,MAAOE,YACZ,IAAIF,MAAOG,cAFtB,IAIIC,EAAIC,MAASC,UAAU,UAAUC,OAAO,cAC5CzD,EAAIoC,MAAM1E,EAAM,GAAGyB,IAAIiD,MAAM,WAAWzB,KAAK2C,W,+BAM/C,OACC,6BACC,mEACA,0BAAM/E,SAAUV,KAAKgB,cACpB,0EAEA,kBAAC,EAAD,CAAQ+B,eAAgB/C,KAAKiE,eAC7B,4BAAQtD,KAAK,UAAb,0B,GAlDoBE,aC2BVgF,E,kDAxBd,WAAYrG,GAAQ,IAAD,8BAClB,cAAMA,IACDsG,OAAS,EAAKA,OAAOpG,KAAZ,gBAFI,E,mDAKZW,GACNxB,EAAK0B,OAAOiB,Y,+BAIZ,OACC,oCACK,6BACJ,4BAAQuE,QAAS/F,KAAK8F,QAAtB,WACA,6BACA,6BACA,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,W,GAnBejF,aC4BJmF,E,kDA5Bd,WAAYxG,GAAQ,IAAD,8BAClB,cAAMA,IACDI,MAAQ,CACZyB,KAAM,MAHW,E,gEAOE,IAAD,OACnBxC,EAAK0B,OAAO0F,oBAAmB,SAAC5E,GAC3BA,EACH,EAAKpB,SAAS,CAAEoB,KAAMA,IAEtB,EAAKpB,SAAS,CAAEoB,KAAM,S,+BAMxB,OAAwB,IAApBrB,KAAKJ,MAAMyB,KACP,kBAAC,EAAD,MACsB,MAAnBrB,KAAKJ,MAAMyB,KACd,kBAAC,EAAD,MAEA,+C,GAxBYR,aCMPqF,MARf,WACE,OACE,yBAAKC,UAAU,OACb,kBAAC,EAAD,QCMcC,QACW,cAA7B3E,OAAOC,SAAS2E,UAEe,UAA7B5E,OAAOC,SAAS2E,UAEhB5E,OAAOC,SAAS2E,SAASC,MACvB,2DCZNC,IAASC,OACR,kBAAC,IAAMC,WAAP,KACC,kBAAC,EAAD,OAEDC,SAASC,eAAe,SDyHnB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB5F,MAAK,SAAA6F,GACJA,EAAaC,gBAEdnF,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAMmF,c","file":"static/js/main.c3515517.chunk.js","sourcesContent":["import firebase from 'firebase'\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDlwjqFO208beEismKjp7D4NhxT8_mfSoo\",\r\n    authDomain: \"edures-59af0.firebaseapp.com\",\r\n    databaseURL: \"https://edures-59af0.firebaseio.com\",\r\n    projectId: \"edures-59af0\",\r\n    storageBucket: \"edures-59af0.appspot.com\",\r\n    messagingSenderId: \"867500896072\",\r\n    appId: \"1:867500896072:web:90233d3192881699974d7d\"\r\n};\r\n\r\nconst fire = firebase.initializeApp(firebaseConfig);\r\nexport default fire;","import React, { Component } from \"react\";\r\nimport fire from \"../config/firebase\";\r\nimport \"../style/login.css\";\r\nclass Login extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.login = this.login.bind(this);\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.state = {\r\n\t\t\temail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t};\r\n\t}\r\n\r\n\thandleInputChange(event) {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value,\r\n\t\t});\r\n\t}\r\n\r\n\tlogin(e) {\r\n\t\te.preventDefault();\r\n\t\tfire\r\n\t\t\t.auth()\r\n\t\t\t.signInWithEmailAndPassword(this.state.email, this.state.password);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form class='login' onSubmit={this.login}>\r\n\t\t\t\t<label> Email: </label>\r\n\t\t\t\t<input type='text' name='email' onChange={this.handleInputChange} />\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tname='password'\r\n\t\t\t\t\tonChange={this.handleInputChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<button type='submit'> Submit </button> <br />\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;\r\n","import firebase from \"firebase\";\r\nvar config = {\r\n\tapiKey: \"AIzaSyDlwjqFO208beEismKjp7D4NhxT8_mfSoo\",\r\n\tauthDomain: \"edures-59af0.firebaseapp.com\",\r\n\tdatabaseURL: \"https://edures-59af0.firebaseio.com\",\r\n\tprojectId: \"edures-59af0\",\r\n\tstorageBucket: \"edures-59af0.appspot.com\",\r\n\tmessagingSenderId: \"867500896072\",\r\n\tappId: \"1:867500896072:web:b4ee4ea01041c048974d7d\",\r\n};\r\nvar secondaryApp = firebase.initializeApp(config, \"Secondary\");\r\nexport default secondaryApp;\r\n","import React, { Component } from \"react\";\r\nimport fire from \"../config/firebase\";\r\nimport secondaryApp from \"../config/secondary\";\r\nclass NewStd extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { id: \"\" };\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.uploadData = this.uploadData.bind(this);\r\n\t}\r\n\r\n\thandleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsecondaryApp\r\n\t\t\t.auth()\r\n\t\t\t.createUserWithEmailAndPassword(this.state.email, this.state.password)\r\n\t\t\t.then((result) => {\r\n\t\t\t\t// See the UserRecord reference doc for the contents of userRecord.\r\n\t\t\t\tvar uid = result.user.uid;\r\n\t\t\t\tthis.setState({ id: uid });\r\n\t\t\t\tthis.uploadData();\r\n\r\n\t\t\t\tsecondaryApp.auth().signOut();\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t\talert(\"Student has been added\");\r\n\t\t\t})\r\n\t\t\t.catch(function (error) {\r\n\t\t\t\tconsole.log(\"Error fetching user data:\", error);\r\n\t\t\t});\r\n\t};\r\n\r\n\tuploadData = () => {\r\n\t\tvar myref = fire.database().ref(\"Users/\" + this.state.id);\r\n\t\tvar data = {\r\n\t\t\tid: this.state.id,\r\n\t\t\tname: this.state.name,\r\n\t\t\taddress: this.state.address,\r\n\t\t\temail: this.state.email,\r\n\t\t\tpno: this.state.pno,\r\n\t\t\tdivision: this.state.division,\r\n\t\t};\r\n\t\tmyref.set(data);\r\n\t};\r\n\r\n\thandleChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<h2>Add a new Student</h2>\r\n\t\t\t\t\t<label>Name: </label>\r\n\t\t\t\t\t<input type='text' name='name' onChange={this.handleChange} />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<label>Address: </label>\r\n\t\t\t\t\t<textarea type='text' name='address' onChange={this.handleChange} />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<label>Email: </label>\r\n\t\t\t\t\t<input type='text' name='email' onChange={this.handleChange} />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<label>Password: </label>\r\n\t\t\t\t\t<input type='text' name='password' onChange={this.handleChange} />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<label>Phone Number: </label>\r\n\t\t\t\t\t<input type='text' name='pno' onChange={this.handleChange} />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<label>Division: </label>\r\n\t\t\t\t\t<input type='text' name='division' onChange={this.handleChange} />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<button type='submit'>Submit</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default NewStd;\r\n","import React, { Component } from \"react\";\r\nimport fire from \"../config/firebase\";\r\nimport Select from \"react-select\";\r\n\r\nclass Search extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tstds: [],\r\n\t\t\toptions: [],\r\n\t\t};\r\n\t\tthis.getData = this.getData.bind(this);\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\tgetData() {\r\n\t\tvar opts = [];\r\n\t\tvar val;\r\n\t\tconst ref = fire.database().ref(\"Users\");\r\n\t\tlet _this = this;\r\n\t\tref.once(\"value\").then((snapshot) => {\r\n\t\t\tval = Object.values(snapshot.val());\r\n\t\t\tval.map((element) => {\r\n\t\t\t\topts.push({ value: element.email, label: element.name });\r\n\t\t\t});\r\n\t\t\t_this.setState({\r\n\t\t\t\toptions: opts,\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getData();\r\n\t}\r\n\r\n\thandleChange = (event) => {\r\n\t\t// console.log(event);\r\n\t\tvar emails = [];\r\n\t\tevent.forEach((element) => {\r\n\t\t\temails.push(element.value);\r\n\t\t});\r\n\t\t// console.log(emails);\r\n\t\tthis.props.onSelectEmails(emails);\r\n\t\tthis.setState({ stds: event });\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Select\r\n\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\tplaceholder='Search and Select the students'\r\n\t\t\t\t\tisMulti\r\n\t\t\t\t\tisSearchable\r\n\t\t\t\t\tnoOptionsMessage={() => \"No more students\"}\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Search;\r\n","import React, { Component } from \"react\";\r\nimport fire from \"../config/firebase\";\r\nimport axios from \"axios\";\r\nimport Search from \"../components/search\";\r\nclass Notify extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\temails: [],\r\n\t\t};\r\n\t\tthis.sendmsg = this.sendmsg.bind(this);\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.getEmails = this.getEmails.bind(this);\r\n\t\tthis.handleEmails = this.handleEmails.bind(this);\r\n\t}\r\n\r\n\thandleEmails = (emailsValue) => {\r\n\t\tthis.setState({\r\n\t\t\temails: emailsValue,\r\n\t\t});\r\n\t};\r\n\r\n\thandleInputChange(event) {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value,\r\n\t\t});\r\n\t}\r\n\tgetEmails = () => {\r\n\t\t// var emails = this.state.emails.trim().split(\";\");\r\n\t\t// console.log(emails);\r\n\t\tvar emails = this.state.emails;\r\n\t\tconsole.log(emails);\r\n\t\tvar tokens = [];\r\n\t\tvar ref = fire.database().ref(\"Users\");\r\n\t\tref.once(\"value\").then((snapshot) => {\r\n\t\t\temails.forEach((element) => {\r\n\t\t\t\tvar email = Object.values(snapshot.val()).filter(\r\n\t\t\t\t\t(user) => user.email == element\r\n\t\t\t\t);\r\n\t\t\t\tif (email[0] != null) {\r\n\t\t\t\t\ttokens.push(email[0].token);\r\n\t\t\t\t\tvar uid = email[0].id;\r\n\t\t\t\t\tref.child(uid).child(\"Alerts\").push({\r\n\t\t\t\t\t\ttitle: this.state.title,\r\n\t\t\t\t\t\tbody: this.state.body,\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// axios.post(\"http://localhost:9000/notify\", {\r\n\t\t\t\t\t// \ttokens: registrationToken,\r\n\t\t\t\t\t// \ttitle: this.state.title,\r\n\t\t\t\t\t// \tbody: this.state.body,\r\n\t\t\t\t\t// });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tfetch(\"https://fcm.googleapis.com/fcm/send\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\tAuthorization:\r\n\t\t\t\t\t\t\"key=AAAAyfsVL0g:APA91bFEP-_nKJHmhgb8fWNkif4Wggr3tX6W4etRjKno53WfofDfGJTtnIx1qPWjnhk1TJjg4rYGM45QUdIolqfUD-UOEvZz000477X33Y0lwncCA977e2juRCBS8kwtd43epioBiZdF\",\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tnotification: {\r\n\t\t\t\t\t\tbody: this.state.body,\r\n\t\t\t\t\t\ttitle: this.state.title,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: { text: \"data here\" },\r\n\t\t\t\t\tregistration_ids: tokens,\r\n\t\t\t\t}),\r\n\t\t\t}).then(alert(\"Notification Sent\"));\r\n\t\t});\r\n\t};\r\n\r\n\tsendmsg = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.getEmails();\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Notify the student</h2>\r\n\t\t\t\t<form onSubmit={this.sendmsg}>\r\n\t\t\t\t\t<label>Title of the Notification: </label>\r\n\t\t\t\t\t<input type='text' name='title' onChange={this.handleInputChange} />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<label>Body of the Notification: </label>\r\n\t\t\t\t\t<textarea name='body' onChange={this.handleInputChange} />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{/* <label>List of student emails: </label>\r\n\t\t\t\t\t<textarea name='emails' onChange={this.handleInputChange} /> */}\r\n\t\t\t\t\t<Search onSelectEmails={this.handleEmails} />\r\n\t\t\t\t\t<button type='submit'>Send</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Notify;\r\n","import React, { Component } from \"react\";\r\nimport fire from \"../config/firebase\";\r\nimport moment from \"moment\";\r\nimport Search from \"../components/search\";\r\nclass Attendance extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { emails: [] };\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.handleEmails = this.handleEmails.bind(this);\r\n\t}\r\n\r\n\thandleEmails = (emailsValue) => {\r\n\t\tthis.setState({\r\n\t\t\temails: emailsValue,\r\n\t\t});\r\n\t};\r\n\r\n\thandleInputChange(event) {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value,\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\t// var emails = this.state.emails.split(\";\");\r\n\t\tvar emails = this.state.emails;\r\n\t\tvar ref = fire.database().ref(\"Users\");\r\n\t\tref.once(\"value\").then((snapshot) => {\r\n\t\t\temails.forEach((element) => {\r\n\t\t\t\tvar email = Object.values(snapshot.val()).filter(\r\n\t\t\t\t\t(user) => user.email == element\r\n\t\t\t\t);\r\n\t\t\t\tconsole.log(email[0].id);\r\n\t\t\t\tvar date = new Date().getDate();\r\n\t\t\t\tvar month = new Date().getMonth() + 1;\r\n\t\t\t\tvar year = new Date().getFullYear();\r\n\t\t\t\tvar dateStr = date + \"-\" + month + \"-\" + year;\r\n\t\t\t\tvar d = moment().utcOffset(\"+05:30\").format(\"YYYY-MM-DD\");\r\n\t\t\t\tref.child(email[0].id).child(\"absents\").push(d);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Add the student who is absent today</h2>\r\n\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<label>Add the student emails who are absent: </label>\r\n\t\t\t\t\t{/* <textarea name='emails' onChange={this.handleInputChange} /> */}\r\n\t\t\t\t\t<Search onSelectEmails={this.handleEmails} />\r\n\t\t\t\t\t<button type='submit'>Choose as absent</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default Attendance;\r\n","import React, { Component } from \"react\";\r\nimport fire from \"../config/firebase\";\r\nimport NewStd from \"../components/newstd\";\r\nimport Notify from \"../components/notify\";\r\nimport Attendance from \"../components/attendance\";\r\n\r\nclass Home extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.logout = this.logout.bind(this);\r\n\t}\r\n\r\n\tlogout(e) {\r\n\t\tfire.auth().signOut();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tHome<br></br>\r\n\t\t\t\t<button onClick={this.logout}>Log Out</button>\r\n\t\t\t\t<br />\r\n\t\t\t\t<br />\r\n\t\t\t\t<NewStd />\r\n\t\t\t\t<Notify />\r\n\t\t\t\t<Attendance />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from \"react\";\r\nimport fire from \"../config/firebase\";\r\nimport Login from \"../components/login\";\r\nimport Home from \"../components/home\";\r\n\r\nclass Landing extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tuser: null,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tfire.auth().onAuthStateChanged((user) => {\r\n\t\t\tif (user) {\r\n\t\t\t\tthis.setState({ user: user });\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ user: 0 });\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.user === 0) {\r\n\t\t\treturn <Login />;\r\n\t\t} else if (this.state.user != null) {\r\n\t\t\treturn <Home />;\r\n\t\t} else {\r\n\t\t\treturn <div>Loading...</div>;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Landing;\r\n","import React from 'react';\nimport './App.css';\nimport Landing from './components/landing'\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Landing/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}